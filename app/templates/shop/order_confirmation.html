{% extends "base.html" %}
{% block content %}
<style>
    .confirmation-container {
        text-align: center;
        padding: 4rem 1rem;
        animation: fadeUp 0.5s ease;
    }
    @keyframes fadeUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .success-icon {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background: linear-gradient(45deg, #4caf50, #2e7d32);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 2rem;
        animation: pop 0.6s ease;
    }
    @keyframes pop {
        0% { transform: scale(0); }
        60% { transform: scale(1.15); }
        100% { transform: scale(1); }
    }
    .success-icon i {
        font-size: 2.5rem;
        color: white;
    }
    .order-details {
        background: var(--surface-dark);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 2rem;
        max-width: 600px;
        margin: 2rem auto;
        text-align: left;
    }
    .order-row {
        display: flex;
        justify-content: space-between;
        padding: 0.8rem 0;
        border-bottom: 1px solid var(--glass-border);
    }
    .order-row:last-child {
        border-bottom: none;
        font-weight: 700;
        font-size: 1.2rem;
    }
    .order-items {
        margin-top: 1.5rem;
    }
    .order-item-row {
        display: flex;
        justify-content: space-between;
        padding: 0.6rem 0;
        color: var(--text-muted);
    }
</style>

<div class="confirmation-container">
    <div class="success-icon"><i class="fas fa-check"></i></div>
    <h1>Order Placed Successfully!</h1>
    <p style="color: var(--text-muted); margin-bottom: 2rem;">Thank you for your purchase. Your order #{{ order.id }} is being processed.</p>

    <div class="order-details">
        <h3 style="margin-bottom: 1rem;">Order #{{ order.id }}</h3>
        <div class="order-row">
            <span style="color: var(--text-muted);">Date</span>
            <span>{{ order.order_date.strftime('%B %d, %Y at %I:%M %p') }}</span>
        </div>
        <div class="order-row">
            <span style="color: var(--text-muted);">Status</span>
            <span style="color: var(--accent-primary);">{{ order.status }}</span>
        </div>

        {% if order.shipping_address %}
        <div style="padding: 1rem 0; border-bottom: 1px solid var(--glass-border);">
            <h4 style="margin-bottom: 0.5rem; color: var(--text-muted);"><i class="fas fa-map-marker-alt" style="margin-right: 6px;"></i>Shipping Address</h4>
            <div style="color: var(--text-main); font-size: 0.92rem; line-height: 1.6; white-space: pre-line;">{{ order.shipping_address }}</div>
        </div>
        {% endif %}
        
        <div class="order-items">
            <h4 style="margin-bottom: 0.5rem; color: var(--text-muted);">Items</h4>
            {% for item in order.items %}
            <div class="order-item-row">
                <span>{{ item.quantity }}× Product #{{ item.product_id }}</span>
                <span>₹{{ "%.2f"|format(item.price * item.quantity) }}</span>
            </div>
            {% endfor %}
        </div>

        <div class="order-row" style="margin-top: 1rem;">
            <span>Total</span>
            <span style="color: var(--accent-primary);">₹{{ "%.2f"|format(order.total_amount) }}</span>
        </div>
    </div>

    <div style="margin-top: 2rem;">
        <a href="{{ url_for('shop.order_history') }}" class="btn btn-primary" style="margin-right: 1rem; display: inline-block; text-decoration: none;">View All Orders</a>
        <a href="{{ url_for('shop.home') }}" style="color: var(--accent-primary); text-decoration: none; font-weight: 600;">Continue Shopping →</a>
    </div>
</div>
{% endblock %}
